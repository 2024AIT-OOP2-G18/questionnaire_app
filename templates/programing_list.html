<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>回答者一覧</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='base-style.css') }}">
</head>
<body>
    <a href="{{ url_for('programing.add') }}">アンケートに答える</a>
    <table>
        <thead>
            <tr>
                <th>&nbsp;</th>
                <th>学籍番号</th>
                <th>プログラミング好き？</th>
                <th>好きな言語</th>
            </tr>
        </thead>
        <tbody>
            {% for programing in items %}
            <tr>
                <td><a href="{{ url_for('programing.edit' , programing_id=programing.id ) }}">編集</a></td>
                <td>{{ programing.user_id }}</td>
                <td>{{ programing.like }}</td>
                <td>{{ programing.language }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <h2>統計</h2>
    <h3>Like の割合</h3>
    <ul>
        {% for key, value in like_stats.items() %}
            <li>{{ key }}: {{ value|round(2) }}%</li>
        {% endfor %}
    </ul>

    <h3>Language の割合</h3>
    <ul>
        {% for key, value in language_stats.items() %}
            <li>{{ key }}: {{ value|round(2) }}%</li>
        {% endfor %}
    </ul>

    <h2>プログラミング一覧</h2>
    <ul>
        {% for item in items %}
            <li>{{ item.user_id }}: {{ item.like }} - {{ item.language }}</li>
        {% endfor %}
    </ul>
</body>
</html>
